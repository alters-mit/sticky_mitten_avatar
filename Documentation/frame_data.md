# `sticky_mitten_avatar/frame_data.py`

## `AvatarCollisions`

`from tdw.sticky_mitten_avatar.frame_data import AvatarCollisions`

Collisions between an avatar and other objects and the environment on this frame.
To get the segmentation color and the name of each body part, see `StickyMittenAvatarController.static_avatar_info`.

```python
from sticky_mitten_avatar import StickyMittenAvatarController

c = StickyMittenAvatarController()
c.init_scene()

# Your code here.

for avatar_id in c.frame.avatar_collisions:
    # Get each body part that collided with an object.
    for body_part_id in c.frame.avatar_collisions[avatar_id].objects:
        body_part = c.static_avatar_info[avatar_id][body_part_id]
        print(body_part.color)
        print(body_part.name)
        for object_id in c.frame.avatar_collisions[avatar_id].objects[body_part_id]:
            print(object_id)
    # Get each body part that collided with the environment.
    for body_part_id in c.frame.avatar_collisions[avatar_id].env:
        body_part = c.static_avatar_info[avatar_id][body_part_id]
        print(body_part.name + " collided with the environment.")
```

Fields:

- `objects` A dictionary of objects the avatar collided with. Key = body part ID. Value = A list of object IDs.
- `env` A list of body part IDs that collided with the environment (such as a wall).

***

#### `__init__(self, avatar: Avatar)`


| Parameter | Description |
| --- | --- |
| avatar | The avatar. |

***

## `FrameData`

`from tdw.sticky_mitten_avatar.frame_data import FrameData`

Per-frame data that an avatar can use to decide what action to do next.

Access this data from the StickyMittenAvatarController:

```python
from sticky_mitten_avatar import StickyMittenAvatarController

c = StickyMittenAvatarController()
c.init_scene()

print(c.frame.positions)
```

Fields:

- `positions` The dictionary of object positions. Key = the object ID. Value = the position as a numpy array.
- `audio` A list of tuples of audio generated by impacts. The first element in the tuple is a [`Base64Sound` object](https://github.com/threedworld-mit/tdw/blob/master/Documentation/python/py_impact.md#base64sound).
          The second element is the ID of the "target" (smaller) object.
- `id_pass` Image pass of object color segmentation as a numpy array.
- `depth_pass` Image pass of depth values per pixel as a numpy array. Can be None.
- `avatar_collisions` Collisions per avatar between any of its body parts and another object or the environment.
                      See `AvatarCollisions` for more information.

***

#### `__init__(self, resp: List[bytes], objects: Dict[int, StaticObjectInfo], surface_material: AudioMaterial, avatars: Dict[str, Avatar])`


| Parameter | Description |
| --- | --- |
| resp | The response from the build. |
| objects | Static object info per object. Key = the ID of the object in the scene. |
| surface_material | The floor's [audio material](https://github.com/threedworld-mit/tdw/blob/master/Documentation/python/py_impact.md#audiomaterialenum). |
| avatars | Each avatar in the scene. |

***

#### `save_images(self, output_directory: Union[str, Path]) -> None`

Save the ID pass (segmentation colors) and the depth pass to disk.
Images will be named: `[frame_number]_[pass_name].png`
For example, the depth pass on the first frame will be named: `00000000_depth.png`

| Parameter | Description |
| --- | --- |
| output_directory | The directory that the images will be saved to. |

***

#### `get_pil_images(self) -> Tuple[Image, Image]`

Convert the ID pass (segmentation colors) and the depth pass to PIL images.

_Returns:_  Tuple: (ID pass, depth pass) as PIL images.

***

